{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/junior_moosa/Downloads/marvel/src/marvel/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _slicedToArray from\"/home/junior_moosa/Downloads/marvel/src/marvel/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject;import React,{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import axios from\"axios\";import styled from\"styled-components\";import jwt_decode from\"jwt-decode\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var navigate=useNavigate();var handleSubmit=function handleSubmit(e){setMessage(\"\");e.preventDefault();axios.post(\"http://localhost:8000/api/token/\",{username:username,password:password}).then(function(response){var user_data=response.data;localStorage.setItem(\"user_data\",JSON.stringify(user_data));navigate(\"/\");}).catch(function(error){console.log(error);setMessage(\"No active account found for given Credentials\");});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"log\",children:[/*#__PURE__*/_jsx(Link,{to:\"/login/\",className:\"log\",children:\" sign in \"}),/*#__PURE__*/_jsx(Link,{to:\"/register/\",className:\"log\",children:\" sign up \"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"text\",name:\"username\",onChange:function onChange(e){return setUsername(e.target.value);},value:username}),/*#__PURE__*/_jsx(\"p\",{className:\"span\",children:\"username\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"text\",name:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},value:password}),/*#__PURE__*/_jsx(\"p\",{className:\"span\",children:\"password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"checkbox-1-1\",className:\"custom-checkbox\",name:\"keep_signin\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Keep me Signed in\"}),/*#__PURE__*/_jsx(\"button\",{className:\"signin\",children:\"Sign In\"}),/*#__PURE__*/_jsx(\"br\",{}),message&&/*#__PURE__*/_jsx(ErrorMessage,{children:message}),/*#__PURE__*/_jsx(\"hr\",{})]})]})});}var ErrorMessage=styled.p(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    font-size:17px;\\n    color:red;\\n    margin-bottom:25px;\\n    text-align:center;\\n\"])));","map":{"version":3,"sources":["/home/junior_moosa/Downloads/marvel/src/marvel/frontend/src/components/screens/Login.jsx"],"names":["React","useState","Link","useNavigate","axios","styled","jwt_decode","Login","username","setUsername","password","setPassword","message","setMessage","navigate","handleSubmit","e","preventDefault","post","then","response","user_data","data","localStorage","setItem","JSON","stringify","catch","error","console","log","target","value","ErrorMessage","p"],"mappings":"8TAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA+B,OAA/B,CACA,OAASC,IAAT,CAAeC,WAAf,KAAkC,kBAAlC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,C,6IAGA,cAAe,SAASC,CAAAA,KAAT,EAAiB,CAC5B,cAAgCN,QAAQ,CAAC,EAAD,CAAxC,wCAAOO,QAAP,eAAiBC,WAAjB,eACA,eAAgCR,QAAQ,CAAC,EAAD,CAAxC,yCAAOS,QAAP,eAAiBC,WAAjB,eACA,eAA8BV,QAAQ,CAAC,EAAD,CAAtC,yCAAOW,OAAP,eAAgBC,UAAhB,eAGA,GAAMC,CAAAA,QAAQ,CAAGX,WAAW,EAA5B,CAEA,GAAMY,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAM,CACvBH,UAAU,CAAC,EAAD,CAAV,CACAG,CAAC,CAACC,cAAF,GACAb,KAAK,CACJc,IADD,oCAC0C,CAACV,QAAQ,CAARA,QAAD,CAAUE,QAAQ,CAARA,QAAV,CAD1C,EAECS,IAFD,CAEM,SAACC,QAAD,CAAc,CAChB,GAAIC,CAAAA,SAAS,CAAGD,QAAQ,CAACE,IAAzB,CACAC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCC,IAAI,CAACC,SAAL,CAAeL,SAAf,CAAlC,EACAP,QAAQ,CAAC,GAAD,CAAR,CACH,CAND,EAOCa,KAPD,CAOO,SAACC,KAAD,CAAW,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACAf,UAAU,CAAC,+CAAD,CAAV,CACH,CAVD,EAWH,CAdD,CAgBI,mBACI,sCACI,aAAK,SAAS,CAAC,OAAf,wBACI,aAAK,SAAS,CAAC,KAAf,wBACI,KAAC,IAAD,EAAM,EAAE,UAAR,CAAqB,SAAS,CAAC,KAA/B,uBADJ,cAEI,KAAC,IAAD,EAAM,EAAE,aAAR,CAAwB,SAAS,CAAC,KAAlC,uBAFJ,GADJ,cAKI,cAAM,QAAQ,CAAEE,YAAhB,wBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,MAA7B,CAAoC,IAAI,CAAC,UAAzC,CAAoD,QAAQ,CAAE,kBAACC,CAAD,QAAOP,CAAAA,WAAW,CAACO,CAAC,CAACe,MAAF,CAASC,KAAV,CAAlB,EAA9D,CAAmG,KAAK,CAAExB,QAA1G,EADJ,cAEI,UAAG,SAAS,CAAC,MAAb,sBAFJ,cAGI,aAHJ,cAII,aAJJ,cAKI,cAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,MAAjC,CAAwC,IAAI,CAAC,UAA7C,CAAwD,QAAQ,CAAE,kBAACQ,CAAD,QAAOL,CAAAA,WAAW,CAACK,CAAC,CAACe,MAAF,CAASC,KAAV,CAAlB,EAAlE,CAAuG,KAAK,CAAEtB,QAA9G,EALJ,cAMI,UAAG,SAAS,CAAC,MAAb,sBANJ,cAOI,aAPJ,cAQI,cAAO,IAAI,CAAC,UAAZ,CAAuB,EAAE,CAAC,cAA1B,CAAyC,SAAS,CAAC,iBAAnD,CAAqE,IAAI,CAAC,aAA1E,EARJ,cASI,4CATJ,cAUI,eAAQ,SAAS,CAAC,QAAlB,qBAVJ,cAWI,aAXJ,CAYKE,OAAO,eAAI,KAAC,YAAD,WAAeA,OAAf,EAZhB,cAaI,aAbJ,GALJ,GADJ,EADJ,CAyBP,CAED,GAAMqB,CAAAA,YAAY,CAAG5B,MAAM,CAAC6B,CAAV,yJAAlB","sourcesContent":["import React, {useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport jwt_decode from \"jwt-decode\"\n\n\nexport default function Login() {\n    const [username, setUsername] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const [message, setMessage] = useState(\"\")\n\n\n    const navigate = useNavigate()\n\n    const handleSubmit = (e) =>{\n        setMessage(\"\")\n        e.preventDefault();\n        axios\n        .post(`http://localhost:8000/api/token/`, {username,password})\n        .then((response) => {\n            let user_data = response.data\n            localStorage.setItem(\"user_data\", JSON.stringify(user_data))\n            navigate(\"/\")\n        })\n        .catch((error) => {\n            console.log(error);\n            setMessage(\"No active account found for given Credentials\")\n        });\n    }\n\n        return (\n            <>\n                <div className=\"login\">\n                    <div className=\"log\">\n                        <Link to={`/login/`} className=\"log\"> sign in </Link>\n                        <Link to={`/register/`} className=\"log\"> sign up </Link>\n                    </div>\n                    <form onSubmit={handleSubmit}>\n                        <input type=\"text\" className=\"text\" name=\"username\" onChange={(e) => setUsername(e.target.value) } value={username} />\n                        <p className=\"span\">username</p>\n                        <br />\n                        <br />\n                        <input type=\"password\" className=\"text\" name=\"password\" onChange={(e) => setPassword(e.target.value) } value={password} />\n                        <p className=\"span\">password</p>\n                        <br />\n                        <input type=\"checkbox\" id=\"checkbox-1-1\" className=\"custom-checkbox\" name=\"keep_signin\" />\n                        <label>Keep me Signed in</label>    \n                        <button className=\"signin\">Sign In</button>\n                        <br />\n                        {message && <ErrorMessage>{message}</ErrorMessage>}\n                        <hr />\n                    </form>\n                </div>\n            </>\n        );\n}\n\nconst ErrorMessage = styled.p`\n    font-size:17px;\n    color:red;\n    margin-bottom:25px;\n    text-align:center;\n`"]},"metadata":{},"sourceType":"module"}